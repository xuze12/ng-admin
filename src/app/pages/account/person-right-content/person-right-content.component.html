<h3 nz-typography class="regionTitle" style="font-weight: bold;">广州军区</h3>

<div class="or-header">

  <div class="organization-search">
    <input nz-input placeholder="请输入机构名称" [(ngModel)]="value" class="search-ipt" />
    <button nz-button nzType="primary" class="or-search-btn">查询</button>
    <button nz-button nzType="default">重置</button>
  </div>

  <div class="btns">
    <a (click)="add()">新增</a>
    <a (click)="prohibit()">禁用用户</a>
    <a (click)="reset()">重置</a>
    <a (click)="edit()">编辑</a>
    <a (click)="delete()">删除</a>
  </div>

</div>

<!-- reset password modal -->
<nz-modal [(nzVisible)]="isResetVisible" nzTitle="重置密码" [nzFooter]="null" (nzOnCancel)="resetHandleCancel()">
  <form nz-form [formGroup]="validateForm" (ngSubmit)="resetHandleOk()">
    <nz-form-item>
      <nz-form-label [nzSpan]="5" [nzSm]="8" [nzXs]="12" nzFor="superAdminPassword" nzRequired>超级管理员密码</nz-form-label>
      <nz-form-control [nzSm]="12" [nzXs]="24" nzErrorTip="请输入超级管理员密码">
        <input nz-input formControlName="superAdminPassword" placeholder="请输入超级管理员密码" id="superAdminPassword" />
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label [nzSpan]="5" [nzSm]="8" [nzXs]="12" nzFor="curAdminPassword" nzRequired>当前管理员新密码</nz-form-label>
      <nz-form-control [nzSm]="12" [nzXs]="24" nzErrorTip="请输入8-16位数字、字母组合的密码">
        <input nz-input formControlName="curAdminPassword" placeholder="请输入新密码" id="curAdminPassword" />
      </nz-form-control>
    </nz-form-item>
    <div class="modalBtns">
      <button nz-button nzType="primary" class="submit">提交</button>
      <button nz-button (click)="resetHandleCancel()" class="cancel">取消</button>
    </div>
  </form>
</nz-modal>


<!-- 表格 -->
<nz-table #rowSelectionTable nzShowPagination [nzData]="listOfData"
  (nzCurrentPageDataChange)="onCurrentPageDataChange($event)">
  <thead>
    <tr>
      <th [nzChecked]="checked" [nzIndeterminate]="indeterminate" (nzCheckedChange)="onAllChecked($event)"></th>
      <th>账号</th>
      <th>昵称</th>
      <th>手机</th>
      <th>姓名</th>
      <th>所属机构</th>
      <th>角色</th>
      <th>账号状态</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let data of rowSelectionTable.data">
      <td [nzChecked]="setOfCheckedId.has(data.id)" [nzDisabled]="data.disabled"
        (nzCheckedChange)="onItemChecked(data.id, $event)"></td>
      <td>{{ data.account }}</td>
      <td>{{ data.name }}</td>
      <td>{{ data.phoneNumber }}</td>
      <td>{{ data.gender }}</td>
      <td>{{ data.organization }}</td>
      <td>{{ data.role }}</td>
      <td>
        <nz-badge [nzStatus]="data.status ? 'success' : 'error'"></nz-badge>{{ data.status ? '正常' : '禁用' }}
      </td>
    </tr>
  </tbody>
</nz-table>